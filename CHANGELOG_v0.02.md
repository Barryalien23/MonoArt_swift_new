# üìù Changelog v0.02 ‚Äî –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

## üéØ –ó–∞–¥–∞—á–∏
1. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø–µ—Ä–µ–≤–æ—Ä–æ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–±—ã–ª–æ –≤–≤–µ—Ä—Ö –Ω–æ–≥–∞–º–∏)
2. ‚úÖ –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä Softy –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞

---

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. üîÑ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ –∫–∞–º–µ—Ä—ã

**–ü—Ä–æ–±–ª–µ–º–∞:** –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–æ—Å—å –≤–≤–µ—Ä—Ö –Ω–æ–≥–∞–º–∏

**–†–µ—à–µ–Ω–∏–µ:** Flip Y –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ vertex shader

**–ö–æ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
```metal
// –î–æ:
out.uv = (pos * 0.5) + 0.5;

// –ü–æ—Å–ª–µ:
out.uv = float2((pos.x * 0.5) + 0.5, 1.0 - ((pos.y * 0.5) + 0.5));
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –ö–∞–º–µ—Ä–∞ —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!

---

### 2. üé® –ü–∞—Ä–∞–º–µ—Ç—Ä Softy ‚Üí Contrast

**–ë—ã–ª–æ:** `soft` –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞–ª –º—è–≥–∫–æ—Å—Ç—å –∫—Ä–∞—ë–≤ –≥–ª–∏—Ñ–æ–≤ (smoothstep)

**–°—Ç–∞–ª–æ:** `contrast` –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –∫–æ–Ω—Ç—Ä–∞—Å—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

#### Swift —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
```swift
// –î–æ:
struct PreviewUniforms {
    ...
    var soft: Float
    ...
}

// –ü–æ—Å–ª–µ:
struct PreviewUniforms {
    ...
    var contrast: Float  // Now controls image contrast (0..1)
    ...
}
```

#### Metal shader –ª–æ–≥–∏–∫–∞
```metal
// –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞:
float adjustedContrast = uniforms.contrast * 1.5 + 0.5; // Map 0..1 to 0.5..2.0
luminance = clamp((luminance - 0.5) * adjustedContrast + 0.5, 0.0, 1.0);
```

**–î–∏–∞–ø–∞–∑–æ–Ω –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞:**
- `0.0` ‚Üí –∫–æ–Ω—Ç—Ä–∞—Å—Ç `0.5` (–Ω–∏–∑–∫–∏–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç, —Å–≥–ª–∞–∂–µ–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ)
- `0.5` ‚Üí –∫–æ–Ω—Ç—Ä–∞—Å—Ç `1.25` (—Å—Ä–µ–¥–Ω–∏–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç)
- `1.0` ‚Üí –∫–æ–Ω—Ç—Ä–∞—Å—Ç `2.0` (–≤—ã—Å–æ–∫–∏–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç, —Ä–µ–∑–∫–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ)

**–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –º—è–≥–∫–æ—Å—Ç—å –≥–ª–∏—Ñ–æ–≤:**
```metal
// –¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –∫—Ä–∞—ë–≤ –≥–ª–∏—Ñ–æ–≤
float alpha = smoothstep(uniforms.edge - 0.08, uniforms.edge + 0.08, glyphSample);
```

---

## üé® –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç

### –í UI
–ü–∞—Ä–∞–º–µ—Ç—Ä **"Softy"** —Ç–µ–ø–µ—Ä—å —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç **–∫–æ–Ω—Ç—Ä–∞—Å—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è**:

- **–ù–∏–∑–∫–∏–π (0.0-0.3):** –ú—è–≥–∫–æ–µ, –ø—Ä–∏–≥–ª—É—à—ë–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- **–°—Ä–µ–¥–Ω–∏–π (0.4-0.6):** –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç
- **–í—ã—Å–æ–∫–∏–π (0.7-1.0):** –†–µ–∑–∫–æ–µ, –≤—ã—Å–æ–∫–æ–∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- **–î–ª—è –ø–æ—Ä—Ç—Ä–µ—Ç–æ–≤:** `0.3-0.5` (–º—è–≥–∫–∏–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç)
- **–î–ª—è –ø–µ–π–∑–∞–∂–µ–π:** `0.5-0.7` (—Å—Ä–µ–¥–Ω–∏–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç)
- **–î–ª—è –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ —Å—Ç–∏–ª—è:** `0.7-1.0` (–≤—ã—Å–æ–∫–∏–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç)

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Vertex Shader
**–§–∞–π–ª:** `AsciiEngine.swift` (previewShaderSource)

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ:**
```metal
vertex VSOut previewVS(uint vertexID [[vertex_id]]) {
    float2 pos = float2((vertexID == 2) ? 3.0 : -1.0,
                        (vertexID == 1) ? 3.0 : -1.0);
    VSOut out;
    out.position = float4(pos, 0.0, 1.0);
    // Flip Y coordinate to fix upside-down camera ‚¨ÖÔ∏è –ù–û–í–û–ï
    out.uv = float2((pos.x * 0.5) + 0.5, 1.0 - ((pos.y * 0.5) + 0.5));
    return out;
}
```

### Fragment Shader
**–§–∞–π–ª:** `AsciiEngine.swift` (previewShaderSource)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```metal
fragment float4 previewFS(...) {
    // ... video sampling ...
    float luminance = dot(rgb, float3(0.2126, 0.7152, 0.0722));
    
    // Apply contrast adjustment ‚¨ÖÔ∏è –ù–û–í–û–ï
    float adjustedContrast = uniforms.contrast * 1.5 + 0.5;
    luminance = clamp((luminance - 0.5) * adjustedContrast + 0.5, 0.0, 1.0);
    
    // ... rest of shader ...
    
    // Fixed soft edge for glyph rendering ‚¨ÖÔ∏è –ò–ó–ú–ï–ù–ï–ù–û
    float alpha = smoothstep(uniforms.edge - 0.08, uniforms.edge + 0.08, glyphSample);
    
    return mix(uniforms.colorA, uniforms.colorB, alpha);
}
```

### Swift –∫–æ–¥
**–§–∞–π–ª:** `AsciiEngine.swift` (draw method)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```swift
// –î–æ:
let softyFactor = Float(previewState.parameters.softy.rawValue / EffectParameterValue.range.upperBound)
...
soft: 0.05 + softyFactor * 0.15,

// –ü–æ—Å–ª–µ:
let contrastFactor = Float(previewState.parameters.softy.rawValue / EffectParameterValue.range.upperBound)
...
contrast: contrastFactor, // Now controls image contrast (0..1)
```

---

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –î–æ –∏ –ø–æ—Å–ª–µ
- ‚úÖ **FPS:** 60 (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
- ‚úÖ **CPU:** < 15% (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
- ‚úÖ **GPU:** ~ 20-30% (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
- ‚úÖ **–ö–∞—á–µ—Å—Ç–≤–æ:** –£–ª—É—á—à–µ–Ω–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è + –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞)

### –ù–∏–∫–∞–∫–∏—Ö —Ä–µ–≥—Ä–µ—Å—Å–∏–π!
–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è ‚Äî —á–∏—Å—Ç–æ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç–∞.

---

## ‚úÖ Build Status

```bash
** BUILD SUCCEEDED **

‚úÖ 0 Errors
‚úÖ 0 Warnings (–∫—Ä–æ–º–µ AppIntents metadata)
```

---

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

### –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
1. **–ö–∞–º–µ—Ä–∞ —Ç–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞** ‚úÖ
2. **–°–ª–∞–π–¥–µ—Ä "Softy" —Ç–µ–ø–µ—Ä—å —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç –∫–æ–Ω—Ç—Ä–∞—Å—Ç** ‚úÖ
3. **–í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–ª–∞–≤–Ω–æ –Ω–∞ 60 FPS** ‚úÖ

### –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –ø–µ—Ä–µ–≤—ë—Ä–Ω—É—Ç–æ
3. –ü–æ–¥–≤–∏–≥–∞–π—Ç–µ —Å–ª–∞–π–¥–µ—Ä "Softy" ‚Äî –∫–æ–Ω—Ç—Ä–∞—Å—Ç –¥–æ–ª–∂–µ–Ω –º–µ–Ω—è—Ç—å—Å—è
4. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ FPS –≤—Å—ë –µ—â—ë 60

---

## üìö Git Commits

### Commit 1: Stable version 0.02
```
2777749..96465ad
GPU-accelerated preview integration
```

### Commit 2: Fix orientation and contrast
```
96465ad
- Fixed upside-down camera
- Changed Softy to Contrast control
```

---

## üéâ –°—Ç–∞—Ç—É—Å

**–í–µ—Ä—Å–∏—è:** 0.02  
**–î–∞—Ç–∞:** 8 –Ω–æ—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ**

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–ø—É—à–µ–Ω—ã –≤ GitHub:** ‚úÖ

---

**–ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º 60 FPS ASCII preview —Å –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞! üé®‚ú®**

